<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Animated button microinteractions: ripple, magnetic hover, and shine effects. Pure HTML/CSS/JS." />
  <title>Animated Button Demo</title>
  <style>
    :root{
      --bg: #0e0f14;
      --card: #141824;
      --text: #e7ecf3;
      --muted: #a7b0c0;
      --primary-1: #6aa7ff;
      --primary-2: #7f5bff;
      --accent-1: #35d3ff;
      --accent-2: #23f0a0;
      --ring: #8ab4ff;
      --shadow: 0 10px 30px rgba(18, 27, 53, 0.35);
      --shadow-press: 0 6px 18px rgba(18, 27, 53, 0.45);
      --radius: 14px;
      --radius-sm: 12px;
      --focus: 0 0 0 3px color-mix(in oklab, white 10%, var(--ring));
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Inter, "Noto Sans", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(65,91,255,0.12), transparent 60%),
        radial-gradient(1000px 500px at 100% 10%, rgba(35,240,160,0.10), transparent 60%),
        var(--bg);
      display: grid;
      place-items: center;
      padding: 32px;
    }
    .container{
      width: 100%;
      max-width: 980px;
      background: color-mix(in oklab, var(--card) 86%, black 14%);
      border: 1px solid color-mix(in oklab, var(--card) 70%, white 10%);
      border-radius: 20px;
      padding: clamp(18px, 3vw, 28px);
      box-shadow: 0 20px 60px rgba(5,10,25,0.35), inset 0 1px 0 rgba(255,255,255,0.02);
      backdrop-filter: blur(6px) saturate(120%);
    }
    header{
      display: grid;
      gap: 8px;
      margin-bottom: clamp(18px, 3vw, 28px);
    }
    h1{
      font-size: clamp(22px, 3.6vw, 34px);
      line-height: 1.15;
      margin: 0;
      letter-spacing: 0.2px;
    }
    p.lead{
      margin:0;
      color: var(--muted);
      font-size: clamp(14px, 1.8vw, 16px);
    }
    .grid{
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: clamp(12px, 2.2vw, 18px);
    }
    @media (max-width: 640px){
      .grid{ grid-template-columns: 1fr; }
    }

    /* Button base */
    .btn{
      --mx: 0px;
      --my: 0px;
      --scale: 1;
      appearance: none;
      -webkit-tap-highlight-color: transparent;
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      padding: 14px 18px;
      border-radius: var(--radius);
      border: 1px solid color-mix(in oklab, var(--card) 65%, white 10%);
      background: linear-gradient(145deg, color-mix(in oklab, var(--primary-2) 26%, #0b0c12), color-mix(in oklab, var(--primary-1) 30%, #0b0c12));
      color: white;
      font-weight: 650;
      letter-spacing: 0.2px;
      text-shadow: 0 1px 0 rgba(0,0,0,0.3);
      box-shadow: var(--shadow);
      cursor: pointer;
      user-select: none;
      transform: translate(var(--mx), var(--my)) scale(var(--scale));
      transition: transform 220ms cubic-bezier(.2,.7,0,1), box-shadow 220ms ease, background 300ms ease;
      overflow: hidden; /* needed for ripple */
      will-change: transform;
      outline: none;
      isolation: isolate; /* keep ripple inside stacking context */
    }
    .btn:hover{
      --scale: 1.02;
      box-shadow: 0 16px 40px rgba(28, 65, 190, 0.35), 0 8px 20px rgba(0,0,0,0.35);
    }
    .btn:active{
      transform: translate(calc(var(--mx) * 0.3), calc(var(--my) * 0.3)) scale(0.985);
      box-shadow: var(--shadow-press);
    }
    .btn:focus-visible{
      box-shadow: var(--shadow), var(--focus);
    }

    /* Icons */
    .icon{
      width: 18px; height: 18px;
      opacity: 0.92;
      flex: 0 0 auto;
      filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
    }

    /* Variant: outline with glass and color text */
    .btn--outline{
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      color: var(--text);
      text-shadow: none;
      border: 1px solid color-mix(in oklab, var(--card) 60%, white 16%);
      box-shadow: 0 12px 28px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.04);
    }
    .btn--success{
      background: linear-gradient(145deg, color-mix(in oklab, var(--accent-2) 42%, #0d1512), color-mix(in oklab, #1bffae 35%, #08120e));
    }
    .btn--cool{
      background: linear-gradient(145deg, color-mix(in oklab, var(--accent-1) 34%, #0b0c12), color-mix(in oklab, var(--primary-1) 40%, #0b0c12));
    }

    /* Shine effect */
    .btn.btn--shine::before{
      content: "";
      position: absolute;
      inset: -120% auto -120% -180%;
      width: 65%;
      transform: rotate(25deg) translate3d(0,0,0);
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.4) 45%, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0.4) 55%, transparent 100%);
      mix-blend-mode: screen;
      opacity: 0;
      pointer-events: none;
    }
    .btn.btn--shine:hover::before{
      animation: shine 1.1s ease forwards;
    }
    @keyframes shine{
      0%   { transform: rotate(25deg) translateX(0); opacity: 0; }
      10%  { opacity: .7; }
      100% { transform: rotate(25deg) translateX(430%); opacity: 0; }
    }

    /* Ripple element */
    .ripple{
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle at center, rgba(255,255,255,0.55), rgba(255,255,255,0.25) 55%, rgba(255,255,255,0.05) 70%, transparent 72%);
      transform: scale(0);
      animation: ripple 680ms ease-out forwards;
      pointer-events: none;
      filter: blur(.2px);
      mix-blend-mode: screen;
      z-index: 1;
    }
    @keyframes ripple{
      to { transform: scale(3.6); opacity: 0; }
    }

    /* Label block */
    .card{
      padding: 14px;
      border-radius: var(--radius-sm);
      background: color-mix(in oklab, var(--card) 88%, black 12%);
      border: 1px solid color-mix(in oklab, var(--card) 68%, white 10%);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      display: grid;
      gap: 10px;
    }
    .label{
      font-size: 13px;
      color: var(--muted);
      letter-spacing: .25px;
    }
    .row{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 560px){
      .row{ grid-template-columns: 1fr; }
    }

    footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 12px;
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .hint{
      opacity: .9;
    }
    .kbd{
      padding: 2px 6px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.06);
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      color: #e8f0ff;
    }

    @media (prefers-reduced-motion: reduce){
      .btn, .btn:hover, .btn:active { transition: none !important; }
      .btn{ transform: none !important; }
      .ripple{ display: none !important; }
      .btn.btn--shine::before{ display: none !important; }
    }
  </style>
</head>
<body>
  <main class="container" role="main">
    <header>
      <h1>Button Animation Microinteractions</h1>
      <p class="lead">Click and hover to see ripple, magnetic hover, and shine effects. Pure HTML + CSS + JavaScript. Respects reduced motion preferences.</p>
    </header>

    <section class="grid" aria-label="Animated buttons">
      <div class="card">
        <div class="label">Ripple on click</div>
        <button class="btn btn--cool btn--shine" data-ripple aria-label="Try ripple button">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a5 5 0 0 1 5 5v2h1.25A2.75 2.75 0 0 1 21 11.75v6.5A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25v-6.5A2.75 2.75 0 0 1 5.75 9H7V7a5 5 0 0 1 5-5Zm0 2a3 3 0 0 0-3 3v2h6V7a3 3 0 0 0-3-3Z"/></svg>
          Click me
        </button>
      </div>

      <div class="card">
        <div class="label">Magnetic hover + shine</div>
        <button class="btn btn--shine" data-magnetic data-ripple aria-label="Magnetic hover button">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M5 3a2 2 0 0 0-2 2v4a7 7 0 0 0 7 7h2a7 7 0 0 0 7-7V5a2 2 0 1 0-4 0v4a3 3 0 0 1-3 3h-2a3 3 0 0 1-3-3V5a2 2 0 0 0-2-2ZM9 19h6a2 2 0 1 1 0 4H9a2 2 0 1 1 0-4Z"/></svg>
          Hover me
        </button>
      </div>

      <div class="card">
        <div class="label">Subtle glass outline + ripple</div>
        <div class="row">
          <button class="btn btn--outline" data-ripple aria-label="Outline button one">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 3l2.6 5.26 5.8.84-4.2 4.09.99 5.77L12 16.9l-5.19 2.73.99-5.77L3.6 9.1l5.8-.84L12 3z"/></svg>
            Outline
          </button>
          <button class="btn btn--outline btn--shine" data-ripple aria-label="Outline button two with shine">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 12c0-4.97 4.03-9 9-9s9 4.03 9 9-4.03 9-9 9-9-4.03-9-9Zm7.5-4.5A1.5 1.5 0 1 0 12 9a1.5 1.5 0 0 0-1.5-1.5Zm3 9a1.5 1.5 0 1 0 1.5-1.5A1.5 1.5 0 0 0 13.5 16.5Z"/></svg>
            Glass
          </button>
        </div>
      </div>

      <div class="card">
        <div class="label">Success style</div>
        <button class="btn btn--success btn--shine" data-magnetic data-ripple aria-label="Success action button">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M9.5 16.2 5.3 12l-1.4 1.4L9.5 19l11-11-1.4-1.4-9.6 9.6z"/></svg>
          Done
        </button>
      </div>
    </section>

    <footer>
      <div class="hint">Tip: Try pressing the buttons with <span class="kbd">Enter</span> or <span class="kbd">Space</span> as well as clicking.</div>
      <div class="hint">Animations respect your system’s Reduce Motion setting.</div>
    </footer>
  </main>

  <script>
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function attachRipple(el){
        function onClick(e){
          const rect = el.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          let x = e.clientX - rect.left - size / 2;
          let y = e.clientY - rect.top - size / 2;

          if ((e.clientX === 0 && e.clientY === 0) || !(e instanceof MouseEvent)) {
            // Likely keyboard-triggered click: center the ripple
            x = rect.width / 2 - size / 2;
            y = rect.height / 2 - size / 2;
          }

          const ripple = document.createElement('span');
          ripple.className = 'ripple';
          ripple.style.width = ripple.style.height = size + 'px';
          ripple.style.left = x + 'px';
          ripple.style.top = y + 'px';

          el.appendChild(ripple);
          ripple.addEventListener('animationend', () => ripple.remove());
        }
        el.addEventListener('click', onClick);
      }

      function attachMagnetic(el){
        const strength = 12; // px
        function move(e){
          const rect = el.getBoundingClientRect();
          const mx = (e.clientX - rect.left) / rect.width;
          const my = (e.clientY - rect.top) / rect.height;
          const tx = (mx - 0.5) * strength;
          const ty = (my - 0.5) * strength;
          el.style.setProperty('--mx', tx.toFixed(2) + 'px');
          el.style.setProperty('--my', ty.toFixed(2) + 'px');
          el.style.setProperty('--scale', '1.03');
        }
        function leave(){
          el.style.setProperty('--mx', '0px');
          el.style.setProperty('--my', '0px');
          el.style.setProperty('--scale', '1');
        }
        el.addEventListener('mousemove', move);
        el.addEventListener('mouseleave', leave);
      }

      document.querySelectorAll('[data-ripple]').forEach(btn => {
        if (!prefersReduced) attachRipple(btn);
      });
      document.querySelectorAll('[data-magnetic]').forEach(btn => {
        if (!prefersReduced) attachMagnetic(btn);
      });

      // Improve keyboard accessibility: space triggers click on buttons consistently
      document.addEventListener('keydown', (e) => {
        if ((e.key === ' ' || e.key === 'Spacebar') && e.target instanceof HTMLElement && e.target.classList.contains('btn')){
          e.preventDefault();
          e.target.click();
        }
      });
    })();
  </script>
</body>
</html>